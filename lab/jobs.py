import os
import sys
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))

import PyBoolNet.BooleanExpressions

PyBoolNet.BooleanExpressions.minimize_espresso("erk & mek")
#PyBoolNet.BooleanExpressions.minimize_MCOutput("test.txt")
PyBoolNet.BooleanExpressions.minimize_many_boolean("Test = TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))); Test2 =TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex)))))));")
#PyBoolNet.BooleanExpressions.minimize_many_boolean("erk = mek & raf; erk = mek & raf;")

#PyBoolNet.Tests.Modules.run()

fname_in = "/home/sarah/Schreibtisch/Bachelorarbeit/Git/PyBoolNet/PyBoolNet/Tests/Files/Input/minimize_boolean_input.bnet"
primes = PyBoolNet.FileExchange.bnet2primes(fname_in)
update = "asynchronous"
init = "INIT TRUE"
spec = "CTLSPEC AF(EF(AURKAActive))"
answer, accepting = (PyBoolNet.ModelChecking.check_primes_with_acceptingstates(primes, update, init, spec))
equation = "Test = " + str(accepting["INITACCEPTING"]) + ";"
#print(equation)
#answer = PyBoolNet.BooleanExpressions.minimize_boolean(equation)


#PyBoolNet.BooleanExpressions.minimize_MCOutput("(False, {'ACCEPTING_SIZE': 16252500.0, 'INIT': 'TRUE', 'INIT_SIZE': 16777200.0, 'INITACCEPTING_SIZE': 16252500.0, 'INITACCEPTING': 'TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex)))))))', 'ACCEPTING': 'TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex)))))))'}), (False, {'ACCEPTING_SIZE': 16252500.0, 'INIT': 'TRUE', 'INIT_SIZE': 16777200.0, 'INITACCEPTING_SIZE': 16252500.0, 'INITACCEPTING': 'TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex)))))))', 'ACCEPTING': 'TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis | (CentrosomeMat | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex))))))) | !TPX2 & (STMNCanAct | (PLK1 | (Cytokinesis & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !Cytokinesis & (CentrosomeMat & (GSK3B | (((AURKAPresent | (PP1 | (AURKAActive | (HCPEB & (GWL_MASTL & (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !GWL_MASTL & ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B)) | !HCPEB & (WEE1 | (CDK1CCNBComplex | ((SpindleAssembly | (AJUBA | (NEDD9 | (hCPEB)))) | !CDC25B))))))) | !MT) | !MTCanAct)) | !CentrosomeMat & (HCPEB & (GWL_MASTL & (CDK1CCNBComplex)) | !HCPEB & (WEE1 | (CDK1CCNBComplex)))))))'})")
